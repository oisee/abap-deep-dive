# Патч для важных исправлений Главы 2
# Дата: 2025-07-21
# Применить с помощью скрипта apply_patches.py

## ВАЖНЫЕ ИСПРАВЛЕНИЯ

### Исправление 6: Полная информация о Gateway
- Файл: ADD - Глава 2 Ядро SAP - операционная система бизнес-приложений.md
- Строка: 269
- Найти: "Gateway — это коммуникационный процесс"
- Заменить:
```
Gateway — это коммуникационный процесс для RFC соединений:
- Unix/Linux: gwrd
- Windows: gwrd.exe
- Стандартный порт: 33<NN> (например, 3300 для instance 00)
- Конфигурационные файлы: secinfo, reginfo
```
- Причина: Неполная информация о Gateway

### Исправление 7: Информация о Message Server
- Файл: ADD - Глава 2 Ядро SAP - операционная система бизнес-приложений.md
- Строка: 315
- Добавить после описания Message Server:
```
Технические детали Message Server:
- Unix/Linux: ms.sap<SID>
- Windows: msg_server.exe
- Порт: 36<NN> (внутренний), 81<NN> (HTTP)
- Параметры:
  - ms/server_port_0 = PROT=HTTP,PORT=8100
  - rdisp/mshost = <hostname>
  - rdisp/msserv = sapms<SID> или 3600
```
- Причина: Отсутствие технических деталей

### Исправление 8: Исправить вызов SGEN
- Файл: ADD - Глава 2 Ядро SAP - операционная система бизнес-приложений.md
- Строка: 509
- Найти:
```abap
CALL FUNCTION 'SGEN_SET_PARALLEL_PROCESSES'
  EXPORTING
    processes = 8.
```
- Заменить:
```abap
* SGEN настраивается через транзакцию SGEN или report
SUBMIT RSGENINVLAS
  WITH p_parall = 8    " Количество параллельных процессов
  WITH p_cont   = 'X'  " Продолжить после ошибок
  AND RETURN.

* Или через транзакцию SGEN:
* - Utilities -> Settings -> Parallel Generation
* - Установить количество процессов
```
- Причина: Несуществующая функция

### Исправление 9: Добавить даты поддержки
- Файл: ADD - Глава 2 Ядро SAP - операционная система бизнес-приложений.md
- Строка: 129
- В таблицу совместимости добавить столбец:
```
| Версия ядра | Версии SAP | Платформы | Конец поддержки |
|-------------|------------|-----------|-----------------|
| 7.21 | ECC 6.0 EHP5-7 | Linux, Windows, AIX, Solaris | 2020 |
| 7.40 | ECC 6.0 EHP7 | Linux, Windows, AIX, Solaris | 2020 |
| 7.49 | ECC 6.0 EHP8 | Linux, Windows, AIX, Solaris, HANA | 2025 |
| 7.53 | S/4HANA 1909 | Linux, Windows, HANA | 2027 |
| 7.54 | S/4HANA 2020 | Linux, Windows, HANA | 2028 |
| 7.77 | S/4HANA 2021 | Linux, Windows, HANA | 2029 |
```
- Причина: Критически важная информация для планирования

### Исправление 10: Уточнить структуру ABAP Load
- Файл: ADD - Глава 2 Ядро SAP - операционная система бизнес-приложений.md
- Строка: 441
- Перед структурой добавить:
```
## Концептуальная структура ABAP Load (упрощенное представление)

Примечание: Это концептуальное представление для понимания. 
Реальная структура является проприетарной и значительно сложнее.
```
- Причина: Может ввести в заблуждение

### Исправление 11: Добавить Windows эквивалент saproot
- Файл: ADD - Глава 2 Ядро SAP - операционная система бизнес-приложений.md
- Строка: 406
- Найти: `./saproot.sh <sid>`
- Заменить:
```bash
# Unix/Linux:
./saproot.sh <sid>

# Windows (с правами администратора):
# Права устанавливаются автоматически при установке SAP
# Или через icacls для ручной настройки:
icacls D:\usr\sap\<SID> /grant "SAP_<SID>_GlobalAdmin:(OI)(CI)F"
```
- Причина: Отсутствие Windows информации

### Исправление 12: Полный список типов Work Process
- Файл: ADD - Глава 2 Ядро SAP - операционная система бизнес-приложений.md
- Строка: 226
- Найти: `wp_type=DIA`
- Заменить:
```
wp_type=<TYPE>, где TYPE может быть:
- DIA  - Dialog Work Process
- BTC  - Background Work Process  
- UPD  - Update Work Process (V1)
- UPD2 - Update 2 Work Process (V2)
- ENQ  - Enqueue Work Process
- SPO  - Spool Work Process
```
- Причина: Неполный список типов

### Исправление 13: Информация об Enqueue Replication
- Файл: ADD - Глава 2 Ядро SAP - операционная система бизнес-приложений.md
- Строка: 89
- После строки с enserver добавить:
```
├── enrepserver         # Enqueue Replication Server (для HA с ENSA2)
```
- Причина: Важный компонент для высокой доступности